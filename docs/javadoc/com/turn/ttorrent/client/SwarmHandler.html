<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Thu Jan 15 15:05:03 PST 2015 -->
<title>SwarmHandler (ttorrent 1.8.0-SNAPSHOT API)</title>
<meta name="date" content="2015-01-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SwarmHandler (ttorrent 1.8.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/turn/ttorrent/client/TorrentHandler.html" title="class in com.turn.ttorrent.client"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/turn/ttorrent/client/SwarmHandler.html" target="_top">Frames</a></li>
<li><a href="SwarmHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.turn.ttorrent.client</div>
<h2 title="Class SwarmHandler" class="title">Class SwarmHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.turn.ttorrent.client.SwarmHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html" title="interface in com.turn.ttorrent.client.peer">PeerActivityListener</a>, <a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html" title="interface in com.turn.ttorrent.client.peer">PeerConnectionListener</a>, <a href="../../../../com/turn/ttorrent/client/peer/PeerExistenceListener.html" title="interface in com.turn.ttorrent.client.peer">PeerExistenceListener</a>, <a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a>, <a href="../../../../com/turn/ttorrent/protocol/PeerIdentityProvider.html" title="interface in com.turn.ttorrent.protocol">PeerIdentityProvider</a>, <a href="../../../../com/turn/ttorrent/tracker/client/PeerAddressProvider.html" title="interface in com.turn.ttorrent.tracker.client">PeerAddressProvider</a>, java.lang.Runnable, java.util.EventListener</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">SwarmHandler</span>
extends java.lang.Object
implements java.lang.Runnable, <a href="../../../../com/turn/ttorrent/tracker/client/PeerAddressProvider.html" title="interface in com.turn.ttorrent.tracker.client">PeerAddressProvider</a>, <a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a>, <a href="../../../../com/turn/ttorrent/client/peer/PeerExistenceListener.html" title="interface in com.turn.ttorrent.client.peer">PeerExistenceListener</a>, <a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html" title="interface in com.turn.ttorrent.client.peer">PeerConnectionListener</a>, <a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html" title="interface in com.turn.ttorrent.client.peer">PeerActivityListener</a></pre>
<div class="block">Manages swarm-level coordination as a periodically-executed Runnable.

 <p>
 This class implements several interfaces that all share a 1:1 ratio for
 object lifetime.  Known peers in the swarm are tracked with a simple map, but
 connected peers have <a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer"><code>PeerHandler</code></a> objects created for them, and these
 objects allow direct control of the wire protocol.  Most of the interfaces
 implemented by this class are then used by PeerHandlers to learn about the
 torrent status, the peer's addresses, and other peers, as well as to handle
 various peer and piece state changes.  Pieces of the torrent are similarly
 tracked in a simple array, but in progress pieces have <a href="../../../../com/turn/ttorrent/client/peer/PieceHandler.html" title="class in com.turn.ttorrent.client.peer"><code>PieceHandler</code></a>
 objects allocated that handle reading and writing blocks on the wire.  The
 SwarmHandler is used by PieceHandlers to maintain piece consistency.
 </p>

 <p>
 The SwarmHandler for a torrent is also used by the <code>PeerClent</code> as a
 listener that handles new connections and by the <a href="../../../../com/turn/ttorrent/client/TrackerHandler.html" title="class in com.turn.ttorrent.client"><code>TrackerHandler</code></a> s a
 place to register peers returned by a tracker.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#addPeers(java.util.Map,%20java.lang.String)">addPeers</a></strong>(java.util.Map&lt;? extends java.net.SocketAddress,? extends byte[]&gt;&nbsp;peers,
        java.lang.String&nbsp;source)</code>
<div class="block">Adds SocketAddress -> PeerIds.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#addRequestTimeout(java.lang.Iterable)">addRequestTimeout</a></strong>(java.lang.Iterable&lt;? extends <a href="../../../../com/turn/ttorrent/client/peer/PieceHandler.AnswerableRequestMessage.html" title="class in com.turn.ttorrent.client.peer">PieceHandler.AnswerableRequestMessage</a>&gt;&nbsp;requests)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#andNotCompletedPieces(java.util.BitSet)">andNotCompletedPieces</a></strong>(java.util.BitSet&nbsp;out)</code>
<div class="block">Zero-copy.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#connect(java.net.SocketAddress)">connect</a></strong>(java.net.SocketAddress&nbsp;address)</code>
<div class="block">Connect to the given peer and perform the BitTorrent handshake.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getAvailablePieceCount()">getAvailablePieceCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getBlockLength()">getBlockLength</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/turn/ttorrent/client/Client.html" title="class in com.turn.ttorrent.client">Client</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getClient()">getClient</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.BitSet</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getCompletedPieces()">getCompletedPieces</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getConnectedPeerCount()">getConnectedPeerCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Iterable&lt;? extends <a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getConnectedPeers()">getConnectedPeers</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getDownloaded()">getDownloaded</a></strong>()</code>
<div class="block">Get the number of bytes downloaded for this torrent.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/turn/ttorrent/client/peer/Instrumentation.html" title="class in com.turn.ttorrent.client.peer">Instrumentation</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getInstrumentation()">getInstrumentation</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Set&lt;? extends java.net.SocketAddress&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getLocalAddresses()">getLocalAddresses</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getLocalPeerId()">getLocalPeerId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getLocalPeerName()">getLocalPeerName</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Iterable&lt;<a href="../../../../com/turn/ttorrent/client/peer/PieceHandler.AnswerableRequestMessage.html" title="class in com.turn.ttorrent.client.peer">PieceHandler.AnswerableRequestMessage</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getNextPieceHandler(com.turn.ttorrent.client.peer.PeerHandler,%20java.util.BitSet)">getNextPieceHandler</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                   java.util.BitSet&nbsp;peerInteresting)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getPeerCount()">getPeerCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;? extends java.net.SocketAddress,? extends byte[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getPeers()">getPeers</a></strong>()</code>
<div class="block">Returns all known peers, possibly including this peer's known addresses.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getPieceCount()">getPieceCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getPieceLength(int)">getPieceLength</a></strong>(int&nbsp;index)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getRequestedPieceCount()">getRequestedPieceCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.BitSet</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getRequestedPieces()">getRequestedPieces</a></strong>()</code>
<div class="block">Return a BitSet describing the currently requested pieces.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#getUploaded()">getUploaded</a></strong>()</code>
<div class="block">Get the number of bytes uploaded for this torrent.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handleBitfieldAvailability(com.turn.ttorrent.client.peer.PeerHandler,%20java.util.BitSet,%20java.util.BitSet)">handleBitfieldAvailability</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                          java.util.BitSet&nbsp;prevAvailablePieces,
                          java.util.BitSet&nbsp;currAvailablePieces)</code>
<div class="block">Bit field availability handler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handleBlockReceived(com.turn.ttorrent.client.peer.PeerHandler,%20int,%20int,%20int)">handleBlockReceived</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                   int&nbsp;piece,
                   int&nbsp;offset,
                   int&nbsp;length)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handleBlockSent(com.turn.ttorrent.client.peer.PeerHandler,%20int,%20int,%20int)">handleBlockSent</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
               int&nbsp;piece,
               int&nbsp;offset,
               int&nbsp;length)</code>
<div class="block">Block upload handler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handleIOException(com.turn.ttorrent.client.peer.PeerHandler,%20java.io.IOException)">handleIOException</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                 java.io.IOException&nbsp;ioe)</code>
<div class="block">Handler for IOException during peer operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handlePeerChoking(com.turn.ttorrent.client.peer.PeerHandler)">handlePeerChoking</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer)</code>
<div class="block">Peer choked handler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handlePeerConnectionCreated(io.netty.channel.Channel,%20byte[],%20byte[])">handlePeerConnectionCreated</a></strong>(io.netty.channel.Channel&nbsp;channel,
                           byte[]&nbsp;remotePeerId,
                           byte[]&nbsp;remoteReserved)</code>
<div class="block">Retrieves a <a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer"><code>PeerHandler</code></a> object from the given peer specification.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handlePeerConnectionFailed(java.net.SocketAddress,%20java.lang.Throwable)">handlePeerConnectionFailed</a></strong>(java.net.SocketAddress&nbsp;remoteAddress,
                          java.lang.Throwable&nbsp;cause)</code>
<div class="block">Handle a failed peer connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handlePeerConnectionReady(com.turn.ttorrent.client.peer.PeerHandler)">handlePeerConnectionReady</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer)</code>
<div class="block">Handle a new peer connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handlePeerDisconnected(com.turn.ttorrent.client.peer.PeerHandler)">handlePeerDisconnected</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer)</code>
<div class="block">Peer disconnection handler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handlePeerUnchoking(com.turn.ttorrent.client.peer.PeerHandler)">handlePeerUnchoking</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer)</code>
<div class="block">Peer ready handler.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handlePieceAvailability(com.turn.ttorrent.client.peer.PeerHandler,%20int)">handlePieceAvailability</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                       int&nbsp;piece)</code>
<div class="block">Piece availability handler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#handlePieceCompleted(com.turn.ttorrent.client.peer.PeerHandler,%20int,%20com.turn.ttorrent.client.peer.PieceHandler.Reception)">handlePieceCompleted</a></strong>(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                    int&nbsp;piece,
                    <a href="../../../../com/turn/ttorrent/client/peer/PieceHandler.Reception.html" title="enum in com.turn.ttorrent.client.peer">PieceHandler.Reception</a>&nbsp;reception)</code>
<div class="block">Piece download completion handler.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#info(boolean)">info</a></strong>(boolean&nbsp;verbose)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#isCompletedPiece(int)">isCompletedPiece</a></strong>(int&nbsp;index)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#readBlock(java.nio.ByteBuffer,%20int,%20int)">readBlock</a></strong>(java.nio.ByteBuffer&nbsp;block,
         int&nbsp;piece,
         int&nbsp;offset)</code>
<div class="block">Read a piece block from the underlying byte storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#run()">run</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#setAvailablePiece(int,%20boolean)">setAvailablePiece</a></strong>(int&nbsp;piece,
                 boolean&nbsp;available)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#start()">start</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#stop()">stop</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#validateBlock(java.nio.ByteBuffer,%20int)">validateBlock</a></strong>(java.nio.ByteBuffer&nbsp;block,
             int&nbsp;piece)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/turn/ttorrent/client/SwarmHandler.html#writeBlock(java.nio.ByteBuffer,%20int,%20int)">writeBlock</a></strong>(java.nio.ByteBuffer&nbsp;block,
          int&nbsp;piece,
          int&nbsp;offset)</code>
<div class="block">Consumes the block.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getClient()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClient</h4>
<pre>@Nonnull
public&nbsp;<a href="../../../../com/turn/ttorrent/client/Client.html" title="class in com.turn.ttorrent.client">Client</a>&nbsp;getClient()</pre>
</li>
</ul>
<a name="getLocalPeerId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalPeerId</h4>
<pre>public&nbsp;byte[]&nbsp;getLocalPeerId()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/protocol/PeerIdentityProvider.html#getLocalPeerId()">getLocalPeerId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/protocol/PeerIdentityProvider.html" title="interface in com.turn.ttorrent.protocol">PeerIdentityProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getLocalPeerName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalPeerName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getLocalPeerName()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/protocol/PeerIdentityProvider.html#getLocalPeerName()">getLocalPeerName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/protocol/PeerIdentityProvider.html" title="interface in com.turn.ttorrent.protocol">PeerIdentityProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getLocalAddresses()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalAddresses</h4>
<pre>public&nbsp;java.util.Set&lt;? extends java.net.SocketAddress&gt;&nbsp;getLocalAddresses()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/tracker/client/PeerAddressProvider.html#getLocalAddresses()">getLocalAddresses</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/tracker/client/PeerAddressProvider.html" title="interface in com.turn.ttorrent.tracker.client">PeerAddressProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getInstrumentation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstrumentation</h4>
<pre>public&nbsp;<a href="../../../../com/turn/ttorrent/client/peer/Instrumentation.html" title="class in com.turn.ttorrent.client.peer">Instrumentation</a>&nbsp;getInstrumentation()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#getInstrumentation()">getInstrumentation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getPeerCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerCount</h4>
<pre>@Nonnegative
public&nbsp;int&nbsp;getPeerCount()</pre>
</li>
</ul>
<a name="getPeers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeers</h4>
<pre>public&nbsp;java.util.Map&lt;? extends java.net.SocketAddress,? extends byte[]&gt;&nbsp;getPeers()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerExistenceListener.html#getPeers()">PeerExistenceListener</a></code></strong></div>
<div class="block">Returns all known peers, possibly including this peer's known addresses.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerExistenceListener.html#getPeers()">getPeers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerExistenceListener.html" title="interface in com.turn.ttorrent.client.peer">PeerExistenceListener</a></code></dd>
</dl>
</li>
</ul>
<a name="addPeers(java.util.Map, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPeers</h4>
<pre>public&nbsp;void&nbsp;addPeers(@Nonnull
            java.util.Map&lt;? extends java.net.SocketAddress,? extends byte[]&gt;&nbsp;peers,
            @Nonnull
            java.lang.String&nbsp;source)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerExistenceListener.html#addPeers(java.util.Map,%20java.lang.String)">PeerExistenceListener</a></code></strong></div>
<div class="block">Adds SocketAddress -> PeerIds. The PeerId may be null if not known.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerExistenceListener.html#addPeers(java.util.Map,%20java.lang.String)">addPeers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerExistenceListener.html" title="interface in com.turn.ttorrent.client.peer">PeerExistenceListener</a></code></dd>
</dl>
</li>
</ul>
<a name="getConnectedPeers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectedPeers</h4>
<pre>@Nonnull
public&nbsp;java.lang.Iterable&lt;? extends <a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&gt;&nbsp;getConnectedPeers()</pre>
</li>
</ul>
<a name="getConnectedPeerCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectedPeerCount</h4>
<pre>@Nonnegative
public&nbsp;int&nbsp;getConnectedPeerCount()</pre>
</li>
</ul>
<a name="getUploaded()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUploaded</h4>
<pre>@Nonnegative
public&nbsp;long&nbsp;getUploaded()</pre>
<div class="block">Get the number of bytes uploaded for this torrent.</div>
</li>
</ul>
<a name="getDownloaded()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDownloaded</h4>
<pre>@Nonnegative
public&nbsp;long&nbsp;getDownloaded()</pre>
<div class="block">Get the number of bytes downloaded for this torrent.

 <p>
 <b>Note:</b> this could be more than the torrent's length, and should
 not be used to determine a completion percentage.
 </p></div>
</li>
</ul>
<a name="getAvailablePieceCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAvailablePieceCount</h4>
<pre>@Nonnegative
public&nbsp;int&nbsp;getAvailablePieceCount()</pre>
</li>
</ul>
<a name="setAvailablePiece(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAvailablePiece</h4>
<pre>public&nbsp;int&nbsp;setAvailablePiece(@Nonnegative
                    int&nbsp;piece,
                    boolean&nbsp;available)</pre>
</li>
</ul>
<a name="getRequestedPieces()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestedPieces</h4>
<pre>@Nonnull
public&nbsp;java.util.BitSet&nbsp;getRequestedPieces()</pre>
<div class="block">Return a BitSet describing the currently requested pieces.</div>
</li>
</ul>
<a name="getRequestedPieceCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestedPieceCount</h4>
<pre>@Nonnegative
public&nbsp;int&nbsp;getRequestedPieceCount()</pre>
</li>
</ul>
<a name="connect(java.net.SocketAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public&nbsp;void&nbsp;connect(java.net.SocketAddress&nbsp;address)</pre>
<div class="block">Connect to the given peer and perform the BitTorrent handshake.

 <p>
 Submits an asynchronous connection task to the outbound connections
 executor to connect to the given peer.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer to connect to.</dd></dl>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()</pre>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="getPieceCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPieceCount</h4>
<pre>public&nbsp;int&nbsp;getPieceCount()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#getPieceCount()">getPieceCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getPieceLength(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPieceLength</h4>
<pre>public&nbsp;int&nbsp;getPieceLength(int&nbsp;index)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#getPieceLength(int)">getPieceLength</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getBlockLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockLength</h4>
<pre>public&nbsp;int&nbsp;getBlockLength()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#getBlockLength()">getBlockLength</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getCompletedPieces()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompletedPieces</h4>
<pre>public&nbsp;java.util.BitSet&nbsp;getCompletedPieces()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#getCompletedPieces()">getCompletedPieces</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="isCompletedPiece(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCompletedPiece</h4>
<pre>public&nbsp;boolean&nbsp;isCompletedPiece(int&nbsp;index)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#isCompletedPiece(int)">isCompletedPiece</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="andNotCompletedPieces(java.util.BitSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>andNotCompletedPieces</h4>
<pre>public&nbsp;void&nbsp;andNotCompletedPieces(java.util.BitSet&nbsp;out)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#andNotCompletedPieces(java.util.BitSet)">PeerPieceProvider</a></code></strong></div>
<div class="block">Zero-copy.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#andNotCompletedPieces(java.util.BitSet)">andNotCompletedPieces</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="getNextPieceHandler(com.turn.ttorrent.client.peer.PeerHandler, java.util.BitSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextPieceHandler</h4>
<pre>public&nbsp;java.lang.Iterable&lt;<a href="../../../../com/turn/ttorrent/client/peer/PieceHandler.AnswerableRequestMessage.html" title="class in com.turn.ttorrent.client.peer">PieceHandler.AnswerableRequestMessage</a>&gt;&nbsp;getNextPieceHandler(@Nonnull
                                                                            <a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                                                                            @Nonnull
                                                                            java.util.BitSet&nbsp;peerInteresting)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#getNextPieceHandler(com.turn.ttorrent.client.peer.PeerHandler,%20java.util.BitSet)">getNextPieceHandler</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="addRequestTimeout(java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRequestTimeout</h4>
<pre>public&nbsp;int&nbsp;addRequestTimeout(java.lang.Iterable&lt;? extends <a href="../../../../com/turn/ttorrent/client/peer/PieceHandler.AnswerableRequestMessage.html" title="class in com.turn.ttorrent.client.peer">PieceHandler.AnswerableRequestMessage</a>&gt;&nbsp;requests)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#addRequestTimeout(java.lang.Iterable)">addRequestTimeout</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="readBlock(java.nio.ByteBuffer, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readBlock</h4>
<pre>public&nbsp;void&nbsp;readBlock(java.nio.ByteBuffer&nbsp;block,
             int&nbsp;piece,
             int&nbsp;offset)
               throws java.io.IOException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#readBlock(java.nio.ByteBuffer,%20int,%20int)">PeerPieceProvider</a></code></strong></div>
<div class="block">Read a piece block from the underlying byte storage.

 <p>
 This is the public method for reading this piece's data, and it will
 only succeed if the piece is complete and valid on disk, thus ensuring
 any data that comes out of this function is valid piece data we can send
 to other peers.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#readBlock(java.nio.ByteBuffer,%20int,%20int)">readBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
<dd><code>offset</code> - Offset inside this piece where to start reading.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If the read can't be completed (I/O error, or EOF
 reached, which can happen if the piece is not complete).</dd></dl>
</li>
</ul>
<a name="writeBlock(java.nio.ByteBuffer, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBlock</h4>
<pre>public&nbsp;void&nbsp;writeBlock(java.nio.ByteBuffer&nbsp;block,
              int&nbsp;piece,
              int&nbsp;offset)
                throws java.io.IOException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#writeBlock(java.nio.ByteBuffer,%20int,%20int)">PeerPieceProvider</a></code></strong></div>
<div class="block">Consumes the block.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#writeBlock(java.nio.ByteBuffer,%20int,%20int)">writeBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="validateBlock(java.nio.ByteBuffer, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateBlock</h4>
<pre>public&nbsp;boolean&nbsp;validateBlock(java.nio.ByteBuffer&nbsp;block,
                    int&nbsp;piece)
                      throws java.io.IOException</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html#validateBlock(java.nio.ByteBuffer,%20int)">validateBlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client">PeerPieceProvider</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="handlePeerConnectionCreated(io.netty.channel.Channel, byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlePeerConnectionCreated</h4>
<pre>public&nbsp;<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;handlePeerConnectionCreated(io.netty.channel.Channel&nbsp;channel,
                                      byte[]&nbsp;remotePeerId,
                                      byte[]&nbsp;remoteReserved)</pre>
<div class="block">Retrieves a <a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer"><code>PeerHandler</code></a> object from the given peer specification.

 <p>
 This function tries to retrieve an existing peer object based on the
 provided peer specification or otherwise instantiates a new one and adds
 it to our peer repository.
 </p>

 This method takes two <code>Nonnull</code> arguments instead of a <a href="../../../../com/turn/ttorrent/protocol/tracker/Peer.html" title="class in com.turn.ttorrent.protocol.tracker"><code>Peer</code></a>,
 because Peer has a <code>CheckForNull</code> on <a href="../../../../com/turn/ttorrent/protocol/tracker/Peer.html#getPeerId()"><code>Peer.getPeerId()</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html#handlePeerConnectionCreated(io.netty.channel.Channel,%20byte[],%20byte[])">handlePeerConnectionCreated</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html" title="interface in com.turn.ttorrent.client.peer">PeerConnectionListener</a></code></dd>
</dl>
</li>
</ul>
<a name="handlePeerConnectionReady(com.turn.ttorrent.client.peer.PeerHandler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlePeerConnectionReady</h4>
<pre>public&nbsp;void&nbsp;handlePeerConnectionReady(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer)</pre>
<div class="block">Handle a new peer connection.

 <p>
 This handler is called once the connection has been successfully
 established and the handshake exchange made. This generally simply means
 binding the peer to the socket, which will put in place the communication
 logic with this peer.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html#handlePeerConnectionReady(com.turn.ttorrent.client.peer.PeerHandler)">handlePeerConnectionReady</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html" title="interface in com.turn.ttorrent.client.peer">PeerConnectionListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The connected remote peer. Note
 that if the peer somehow rejected our handshake reply, this socket might
 very soon get closed, but this is handled down the road.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer"><code>PeerHandler</code></a></dd></dl>
</li>
</ul>
<a name="handlePeerConnectionFailed(java.net.SocketAddress, java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlePeerConnectionFailed</h4>
<pre>public&nbsp;void&nbsp;handlePeerConnectionFailed(java.net.SocketAddress&nbsp;remoteAddress,
                              java.lang.Throwable&nbsp;cause)</pre>
<div class="block">Handle a failed peer connection.

 <p>
 If an outbound connection failed (could not connect, invalid handshake,
 etc.), remove the peer from our known peers.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html#handlePeerConnectionFailed(java.net.SocketAddress,%20java.lang.Throwable)">handlePeerConnectionFailed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html" title="interface in com.turn.ttorrent.client.peer">PeerConnectionListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer we were trying to connect with.</dd><dd><code>cause</code> - The exception encountered when connecting with the peer.</dd></dl>
</li>
</ul>
<a name="handlePeerChoking(com.turn.ttorrent.client.peer.PeerHandler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlePeerChoking</h4>
<pre>public&nbsp;void&nbsp;handlePeerChoking(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer)</pre>
<div class="block">Peer choked handler.

 <p>
 When a peer chokes, the requests made to it are cancelled and we need to
 mark the eventually piece we requested from it as available again for
 download tentative from another peer.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html#handlePeerChoking(com.turn.ttorrent.client.peer.PeerHandler)">handlePeerChoking</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html" title="interface in com.turn.ttorrent.client.peer">PeerActivityListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer that choked.</dd></dl>
</li>
</ul>
<a name="handlePeerUnchoking(com.turn.ttorrent.client.peer.PeerHandler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlePeerUnchoking</h4>
<pre>public&nbsp;void&nbsp;handlePeerUnchoking(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer)</pre>
<div class="block">Peer ready handler.

 <p>
 When a peer becomes ready to accept piece block requests, select a piece
 to download and go for it.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html#handlePeerUnchoking(com.turn.ttorrent.client.peer.PeerHandler)">handlePeerUnchoking</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html" title="interface in com.turn.ttorrent.client.peer">PeerActivityListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer that became ready.</dd></dl>
</li>
</ul>
<a name="handlePieceAvailability(com.turn.ttorrent.client.peer.PeerHandler, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlePieceAvailability</h4>
<pre>public&nbsp;void&nbsp;handlePieceAvailability(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                           int&nbsp;piece)</pre>
<div class="block">Piece availability handler.

 <p>
 Handle updates in piece availability from a peer's HAVE message. When
 this happens, we need to mark that piece as available from the peer.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html#handlePieceAvailability(com.turn.ttorrent.client.peer.PeerHandler,%20int)">handlePieceAvailability</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html" title="interface in com.turn.ttorrent.client.peer">PeerActivityListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer we got the update from.</dd><dd><code>piece</code> - The piece that became available.</dd></dl>
</li>
</ul>
<a name="handleBitfieldAvailability(com.turn.ttorrent.client.peer.PeerHandler, java.util.BitSet, java.util.BitSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleBitfieldAvailability</h4>
<pre>public&nbsp;void&nbsp;handleBitfieldAvailability(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                              java.util.BitSet&nbsp;prevAvailablePieces,
                              java.util.BitSet&nbsp;currAvailablePieces)</pre>
<div class="block">Bit field availability handler.

 <p>
 Handle updates in piece availability from a peer's BITFIELD message.
 When this happens, we need to mark in all the pieces the peer has that
 they can be reached through this peer, thus augmenting the global
 availability of pieces.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html#handleBitfieldAvailability(com.turn.ttorrent.client.peer.PeerHandler,%20java.util.BitSet,%20java.util.BitSet)">handleBitfieldAvailability</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html" title="interface in com.turn.ttorrent.client.peer">PeerActivityListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer we got the update from.</dd><dd><code>availablePieces</code> - The pieces availability bit field of the peer.</dd></dl>
</li>
</ul>
<a name="handleBlockSent(com.turn.ttorrent.client.peer.PeerHandler, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleBlockSent</h4>
<pre>public&nbsp;void&nbsp;handleBlockSent(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                   int&nbsp;piece,
                   int&nbsp;offset,
                   int&nbsp;length)</pre>
<div class="block">Block upload handler.

 <p>
 When a block has been sent to a peer, we just record that we sent that
 many bytes. If the piece is valid on the peer's side, it will send us a
 HAVE message and we'll record that the piece is available on the peer at
 that moment (see <code>handlePieceAvailability()</code>).
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html#handleBlockSent(com.turn.ttorrent.client.peer.PeerHandler,%20int,%20int,%20int)">handleBlockSent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html" title="interface in com.turn.ttorrent.client.peer">PeerActivityListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer we got this piece from.</dd><dd><code>piece</code> - The piece in question.</dd></dl>
</li>
</ul>
<a name="handleBlockReceived(com.turn.ttorrent.client.peer.PeerHandler, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleBlockReceived</h4>
<pre>public&nbsp;void&nbsp;handleBlockReceived(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                       int&nbsp;piece,
                       int&nbsp;offset,
                       int&nbsp;length)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html#handleBlockReceived(com.turn.ttorrent.client.peer.PeerHandler,%20int,%20int,%20int)">handleBlockReceived</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html" title="interface in com.turn.ttorrent.client.peer">PeerActivityListener</a></code></dd>
</dl>
</li>
</ul>
<a name="handlePieceCompleted(com.turn.ttorrent.client.peer.PeerHandler, int, com.turn.ttorrent.client.peer.PieceHandler.Reception)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlePieceCompleted</h4>
<pre>public&nbsp;void&nbsp;handlePieceCompleted(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                        int&nbsp;piece,
                        <a href="../../../../com/turn/ttorrent/client/peer/PieceHandler.Reception.html" title="enum in com.turn.ttorrent.client.peer">PieceHandler.Reception</a>&nbsp;reception)
                          throws java.io.IOException</pre>
<div class="block">Piece download completion handler.

 <p>
 When a piece is completed, and valid, we announce to all connected peers
 that we now have this piece.
 </p>

 <p>
 We use this handler to identify when all of the pieces have been
 downloaded. When that's the case, we can start the seeding period, if
 any.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html#handlePieceCompleted(com.turn.ttorrent.client.peer.PeerHandler,%20int,%20com.turn.ttorrent.client.peer.PieceHandler.Reception)">handlePieceCompleted</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerActivityListener.html" title="interface in com.turn.ttorrent.client.peer">PeerActivityListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer we got the piece from.</dd><dd><code>piece</code> - The piece in question.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="handlePeerDisconnected(com.turn.ttorrent.client.peer.PeerHandler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlePeerDisconnected</h4>
<pre>public&nbsp;void&nbsp;handlePeerDisconnected(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer)</pre>
<div class="block">Peer disconnection handler.

 <p>
 When a peer disconnects, we need to mark in all of the pieces it had
 available that they can't be reached through this peer anymore.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html#handlePeerDisconnected(com.turn.ttorrent.client.peer.PeerHandler)">handlePeerDisconnected</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html" title="interface in com.turn.ttorrent.client.peer">PeerConnectionListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer we got this piece from.</dd></dl>
</li>
</ul>
<a name="handleIOException(com.turn.ttorrent.client.peer.PeerHandler, java.io.IOException)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleIOException</h4>
<pre>public&nbsp;void&nbsp;handleIOException(<a href="../../../../com/turn/ttorrent/client/peer/PeerHandler.html" title="class in com.turn.ttorrent.client.peer">PeerHandler</a>&nbsp;peer,
                     java.io.IOException&nbsp;ioe)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html#handleIOException(com.turn.ttorrent.client.peer.PeerHandler,%20java.io.IOException)">PeerConnectionListener</a></code></strong></div>
<div class="block">Handler for IOException during peer operation.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html#handleIOException(com.turn.ttorrent.client.peer.PeerHandler,%20java.io.IOException)">handleIOException</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/turn/ttorrent/client/peer/PeerConnectionListener.html" title="interface in com.turn.ttorrent.client.peer">PeerConnectionListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer whose activity trigger the exception.</dd><dd><code>ioe</code> - The IOException object, for reporting.</dd></dl>
</li>
</ul>
<a name="info(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>info</h4>
<pre>public&nbsp;void&nbsp;info(boolean&nbsp;verbose)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/turn/ttorrent/client/PeerPieceProvider.html" title="interface in com.turn.ttorrent.client"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/turn/ttorrent/client/TorrentHandler.html" title="class in com.turn.ttorrent.client"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/turn/ttorrent/client/SwarmHandler.html" target="_top">Frames</a></li>
<li><a href="SwarmHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
