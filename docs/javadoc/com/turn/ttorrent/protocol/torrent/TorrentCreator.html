<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Wed Oct 22 20:18:23 PDT 2014 -->
<title>TorrentCreator</title>
<meta name="date" content="2014-10-22">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TorrentCreator";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/turn/ttorrent/protocol/torrent/Torrent.TorrentFile.html" title="class in com.turn.ttorrent.protocol.torrent"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/turn/ttorrent/protocol/torrent/TorrentCreator.html" target="_top">Frames</a></li>
<li><a href="TorrentCreator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.turn.ttorrent.protocol.torrent</div>
<h2 title="Class TorrentCreator" class="title">Class TorrentCreator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.turn.ttorrent.protocol.torrent.TorrentCreator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TorrentCreator</span>
extends java.lang.Object</pre>
<div class="block">Helper class to create a <a href="../../../../../com/turn/ttorrent/protocol/torrent/Torrent.html" title="class in com.turn.ttorrent.protocol.torrent"><code>Torrent</code></a> object for a set of files.

 <p>
 Hash the given files to create the multi-file <a href="../../../../../com/turn/ttorrent/protocol/torrent/Torrent.html" title="class in com.turn.ttorrent.protocol.torrent"><code>Torrent</code></a> object
 representing the Torrent meta-info about them, needed for announcing
 and/or sharing these files. Since we created the torrent, we're
 considering we'll be a full initial seeder for it.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#DEFAULT_PIECE_LENGTH">DEFAULT_PIECE_LENGTH</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#TorrentCreator(java.io.File)">TorrentCreator</a></strong>(java.io.File&nbsp;parent)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../com/turn/ttorrent/protocol/torrent/Torrent.html" title="class in com.turn.ttorrent.protocol.torrent">Torrent</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#create()">create</a></strong>()</code>
<div class="block">Helper method to create a <a href="../../../../../com/turn/ttorrent/protocol/torrent/Torrent.html" title="class in com.turn.ttorrent.protocol.torrent"><code>Torrent</code></a> object for a set of files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#getHashingThreadsCount()">getHashingThreadsCount</a></strong>()</code>
<div class="block">Determine how many threads to use for the piece hashing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#getPieceLength()">getPieceLength</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#hashFiles(java.util.concurrent.Executor,%20java.util.List,%20long,%20int)">hashFiles</a></strong>(java.util.concurrent.Executor&nbsp;executor,
         java.util.List&lt;java.io.File&gt;&nbsp;files,
         long&nbsp;nbytes,
         int&nbsp;pieceLength)</code>
<div class="block">Return the concatenation of the SHA-1 hashes of a file's pieces.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.concurrent.ThreadPoolExecutor</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#newExecutor(java.lang.String)">newExecutor</a></strong>(java.lang.String&nbsp;peerName)</code>
<div class="block">Creates a new executor suitable for torrent hashing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#setAnnounce(java.net.URI...)">setAnnounce</a></strong>(java.net.URI...&nbsp;announce)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#setAnnounceList(java.util.List)">setAnnounceList</a></strong>(java.util.List&lt;java.net.URI&gt;&nbsp;announce)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#setAnnounceTiers(java.util.List)">setAnnounceTiers</a></strong>(java.util.List&lt;java.util.List&lt;java.net.URI&gt;&gt;&nbsp;announce)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#setCreatedBy(java.lang.String)">setCreatedBy</a></strong>(java.lang.String&nbsp;createdBy)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#setExecutor(java.util.concurrent.Executor)">setExecutor</a></strong>(java.util.concurrent.Executor&nbsp;executor)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#setFiles(java.util.List)">setFiles</a></strong>(java.util.List&lt;java.io.File&gt;&nbsp;files)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/turn/ttorrent/protocol/torrent/TorrentCreator.html#setPieceLength(int)">setPieceLength</a></strong>(int&nbsp;pieceLength)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_PIECE_LENGTH">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_PIECE_LENGTH</h4>
<pre>public static final&nbsp;int DEFAULT_PIECE_LENGTH</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.turn.ttorrent.protocol.torrent.TorrentCreator.DEFAULT_PIECE_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TorrentCreator(java.io.File)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TorrentCreator</h4>
<pre>public&nbsp;TorrentCreator(@Nonnull
              java.io.File&nbsp;parent)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getHashingThreadsCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHashingThreadsCount</h4>
<pre>protected static&nbsp;int&nbsp;getHashingThreadsCount()</pre>
<div class="block">Determine how many threads to use for the piece hashing.

 <p>
 If the environment variable TTORRENT_HASHING_THREADS is set to an
 integer value greater than 0, its value will be used. Otherwise, it
 defaults to the number of processors detected by the Java Runtime.
 </p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>How many threads to use for concurrent piece hashing.</dd></dl>
</li>
</ul>
<a name="newExecutor(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newExecutor</h4>
<pre>@Nonnull
public static&nbsp;java.util.concurrent.ThreadPoolExecutor&nbsp;newExecutor(@Nonnull
                                                          java.lang.String&nbsp;peerName)</pre>
<div class="block">Creates a new executor suitable for torrent hashing.
 
 This executor controls memory usage by using a bounded queue, and the
 CallerRunsPolicy slows down the producer if the queue bound is exceeded.
 The requirement is then to make the queue large enough to keep all the
 executor threads busy if the producer executes a task itself.
 
 In terms of memory, Executor.execute is much more efficient than
 ExecutorService.submit, and ByteBuffer(s) released by the ChunkHasher(s)
 remain in eden space, so are rapidly recycled for reading the next
 block(s). JVM ergonomics can make this much more efficient than any
 heap-based strategy we might devise. Now, we want the queue size small
 enough that JVM ergonomics keeps the eden size small.</div>
</li>
</ul>
<a name="setExecutor(java.util.concurrent.Executor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExecutor</h4>
<pre>public&nbsp;void&nbsp;setExecutor(@Nonnull
               java.util.concurrent.Executor&nbsp;executor)</pre>
</li>
</ul>
<a name="setFiles(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFiles</h4>
<pre>public&nbsp;void&nbsp;setFiles(@Nonnull
            java.util.List&lt;java.io.File&gt;&nbsp;files)</pre>
</li>
</ul>
<a name="getPieceLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPieceLength</h4>
<pre>@Nonnegative
public&nbsp;int&nbsp;getPieceLength()</pre>
</li>
</ul>
<a name="setPieceLength(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPieceLength</h4>
<pre>public&nbsp;void&nbsp;setPieceLength(@Nonnegative
                  int&nbsp;pieceLength)</pre>
</li>
</ul>
<a name="setAnnounceList(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAnnounceList</h4>
<pre>public&nbsp;void&nbsp;setAnnounceList(@Nonnull
                   java.util.List&lt;java.net.URI&gt;&nbsp;announce)</pre>
</li>
</ul>
<a name="setAnnounceTiers(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAnnounceTiers</h4>
<pre>public&nbsp;void&nbsp;setAnnounceTiers(@Nonnull
                    java.util.List&lt;java.util.List&lt;java.net.URI&gt;&gt;&nbsp;announce)</pre>
</li>
</ul>
<a name="setAnnounce(java.net.URI...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAnnounce</h4>
<pre>public&nbsp;void&nbsp;setAnnounce(@Nonnull
               java.net.URI...&nbsp;announce)</pre>
</li>
</ul>
<a name="setCreatedBy(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCreatedBy</h4>
<pre>public&nbsp;void&nbsp;setCreatedBy(@Nonnull
                java.lang.String&nbsp;createdBy)</pre>
</li>
</ul>
<a name="create()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>@Nonnull
public&nbsp;<a href="../../../../../com/turn/ttorrent/protocol/torrent/Torrent.html" title="class in com.turn.ttorrent.protocol.torrent">Torrent</a>&nbsp;create()
               throws java.lang.InterruptedException,
                      java.io.IOException,
                      java.net.URISyntaxException</pre>
<div class="block">Helper method to create a <a href="../../../../../com/turn/ttorrent/protocol/torrent/Torrent.html" title="class in com.turn.ttorrent.protocol.torrent"><code>Torrent</code></a> object for a set of files.

 <p>
 Hash the given files to create the <a href="../../../../../com/turn/ttorrent/protocol/torrent/Torrent.html" title="class in com.turn.ttorrent.protocol.torrent"><code>Torrent</code></a> object
 representing the Torrent meta-info about them, needed for announcing
 and/or sharing these files.
 </p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.net.URISyntaxException</code></dd></dl>
</li>
</ul>
<a name="hashFiles(java.util.concurrent.Executor, java.util.List, long, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>hashFiles</h4>
<pre>@Nonnull
public static&nbsp;byte[]&nbsp;hashFiles(java.util.concurrent.Executor&nbsp;executor,
                       java.util.List&lt;java.io.File&gt;&nbsp;files,
                       long&nbsp;nbytes,
                       int&nbsp;pieceLength)
                        throws java.lang.InterruptedException,
                               java.io.IOException</pre>
<div class="block">Return the concatenation of the SHA-1 hashes of a file's pieces.

 <p>
 Hashes the given file piece by piece using the default Torrent piece
 length (see <code>#PIECE_LENGTH</code>) and returns the concatenation of
 these hashes, as a string.
 </p>

 <p>
 This is used for creating Torrent meta-info structures from a file.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>files</code> - The file to hash.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/turn/ttorrent/protocol/torrent/Torrent.TorrentFile.html" title="class in com.turn.ttorrent.protocol.torrent"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/turn/ttorrent/protocol/torrent/TorrentCreator.html" target="_top">Frames</a></li>
<li><a href="TorrentCreator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
